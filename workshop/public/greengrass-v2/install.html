<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: https://ogp.me/ns# fb: https://ogp.me/ns/fb#">
<html lang="en" class="js csstransforms3d">
<head>
  <meta charset="utf-8">
  <meta property="og:title" content="AWS Computer Vision at the Edge Workshop" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="generator" content="Hugo 0.79.0" />
  <meta name="description" content="AWS Computer Vision at the Edge Workshop">
<meta name="author" content="Amazon AWS">

  <link rel="shortcut icon" href="https://a0.awsstatic.com/libra-css/images/site/fav/favicon.ico" type="image/ico" />
<link rel="icon" href="https://a0.awsstatic.com/libra-css/images/site/fav/favicon.ico" type="image/ico" />

  <title>Install :: AWS Computer Vision at the Edge Workshop</title>

  
  <link href="../css/nucleus.css" rel="stylesheet">
  <link href="../css/fontawesome-all.min.css" rel="stylesheet">
  <link href="../css/hybrid.css" rel="stylesheet">
  <link href="../css/featherlight.min.css" rel="stylesheet">
  <link href="../css/perfect-scrollbar.min.css" rel="stylesheet">
  <link href="../css/auto-complete.css" rel="stylesheet">
  <link href="../css/atom-one-dark-reasonable.css" rel="stylesheet">
  <link href="../css/theme.css" rel="stylesheet">
  <link href="../css/hugo-theme.css" rel="stylesheet">
  
  <link href="../css/theme-aws.css" rel="stylesheet">
  

  <script src="../js/jquery-3.5.1.min.js"></script>

  <style>
    :root #header + #content > #left > #rlblock_left{
        display:none !important;
    }
    
      :not(pre) > code + span.copy-to-clipboard {
          display: none;
      }
    
  </style>
  
</head>

<body class="" data-url="../greengrass-v2/install.html">
  <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <div>
    <a href="../" title="Go home">
        <img style="vertical-align:middle" src="https://fonts.workshops.aws/logos/logo.png" height="70px" />
    </a>
</div>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../js/lunr.min.js"></script>
<script type="text/javascript" src="../js/auto-complete.js"></script>
<script type="text/javascript">
    
        var baseurl = "";
    
</script>
<script type="text/javascript" src="../js/search.js"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/setup-nvidia-device.html" title="Setup nVidia Device" class="dd-item 
        
        
        
        ">
      <a href="../setup-nvidia-device.html">
          Setup nVidia Device
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/setup-nvidia-device/nano.html" title="Jetson Nano" class="dd-item 
        
        
        
        ">
      <a href="../setup-nvidia-device/nano.html">
          Jetson Nano
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/setup-nvidia-device/install-tools.html" title="Install Tools" class="dd-item 
        
        
        
        ">
      <a href="../setup-nvidia-device/install-tools.html">
          Install Tools
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/greengrass-v2.html" title="Install Greengrass V2" class="dd-item 
        parent
        
        
        ">
      <a href="../greengrass-v2.html">
          Install Greengrass V2
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/greengrass-v2/install.html" title="Install" class="dd-item 
        parent
        active
        
        ">
      <a href="../greengrass-v2/install.html">
          Install
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/greengrass-v2/validate.html" title="Validate" class="dd-item 
        
        
        
        ">
      <a href="../greengrass-v2/validate.html">
          Validate
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/inference.html" title="Add Inference" class="dd-item 
        
        
        
        ">
      <a href="../inference.html">
          Add Inference
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/inference/make-components.html" title="Create the Inference Components" class="dd-item 
        
        
        
        ">
      <a href="../inference/make-components.html">
          Create the Inference Components
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/inference/archetypes.html" title="Archetypes" class="dd-item 
        
        
        
        ">
      <a href="../inference/archetypes.html">
          Archetypes
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/inference/markdown.html" title="Markdown Syntax" class="dd-item 
        
        
        
        ">
      <a href="../inference/markdown.html">
          Markdown Syntax
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/inference/icons.html" title="Icons and Logos" class="dd-item 
        
        
        
        ">
      <a href="../inference/icons.html">
          Icons and Logos
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/inference/i18n.html" title="Multilingual and i18n" class="dd-item 
        
        
        
        ">
      <a href="../inference/i18n.html">
          Multilingual and i18n
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/shortcodes.html" title="Shortcodes" class="dd-item 
        
        
        
        ">
      <a href="../shortcodes.html">
          <b>3. </b>Shortcodes
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/shortcodes/attachments.html" title="Attachments" class="dd-item 
        
        
        
        ">
      <a href="../shortcodes/attachments.html">
          Attachments
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/shortcodes/button.html" title="Button" class="dd-item 
        
        
        
        ">
      <a href="../shortcodes/button.html">
          Button
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/shortcodes/children.html" title="Children" class="dd-item 
        
        
        
        ">
      <a href="../shortcodes/children.html">
          Children
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
             
            
          
             
            
          
             
            
          
             
            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/shortcodes/expand.html" title="Expand" class="dd-item 
        
        
        
        ">
      <a href="../shortcodes/expand.html">
          Expand
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/shortcodes/img.html" title="Image" class="dd-item 
        
        
        
        ">
      <a href="../shortcodes/img.html">
          Image
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/shortcodes/notice.html" title="Notice" class="dd-item 
        
        
        
        ">
      <a href="../shortcodes/notice.html">
          Notice
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/shortcodes/siteparam.html" title="Site param" class="dd-item 
        
        
        
        ">
      <a href="../shortcodes/siteparam.html">
          Site param
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/shortcodes/siteurl.html" title="Site URL" class="dd-item 
        
        
        
        ">
      <a href="../shortcodes/siteurl.html">
          Site URL
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/shortcodes/youtube.html" title="Youtube" class="dd-item 
        
        
        
        ">
      <a href="../shortcodes/youtube.html">
          Youtube
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/launch.html" title="Launch" class="dd-item 
        
        
        
        ">
      <a href="../launch.html">
          <b>4. </b>Launch
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/launch/metadata.html" title="Metadata" class="dd-item 
        
        
        
        ">
      <a href="../launch/metadata.html">
          Metadata
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <left>

    <a href="https://aws.amazon.com/privacy/?nc1=f_pr">Privacy</a> | <a href="https://aws.amazon.com/terms/?nc1=f_pr">Site Terms</a> | © 2021, Amazon Web Services, Inc. or its affiliates. All rights reserved. 

</left>

    </section>
  </div>
</nav>





  <section id="body">
    <div id="overlay"></div>
    <div class="padding highlightable">
      
      <div>
        <div id="top-bar">
          
          
          <div id="breadcrumbs" itemscope="" itemtype="https://data-vocabulary.org/Breadcrumb">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                <i class="fa fa-bars"></i>
              </a>
            </span>
            
            <span class="links">
              
          
          
          
          
          
          
          
          
          
          
          <a href='../'>AWS Computer Vision at the Edge Workshop</a> > <a href='../greengrass-v2.html'>Install Greengrass V2</a> > Install
          
          
          
          
          
          
            </span>
          </div>
          
        </div>
      </div>
      

      
      <div id="chapter">
        
        <div id="body-inner">
          <h1>Install</h1>
          
          


	<p>This lab will guide you to set up AWS IoT Greengrass v2 on the device you previously set up.</p>
<h3 id="step-1-connect-to-the-target-device">Step 1: Connect to the target device</h3>
<blockquote>
<p><strong>Using SSH</strong></p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ssh &lt;user&gt;@&lt;device&gt;
</code></pre></div><blockquote>
<p><strong>With Keybord and Monitor</strong></p>
</blockquote>
<p>Open the terminal app.</p>
<h3 id="step-2-install-corretto-java">Step 2: Install Corretto (Java)</h3>
<p>Enter these commands into the device shell:</p>
<p>(Copy and paste one line at a time and enter password for <code>sudo</code> when prompted.)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wget -O- https://apt.corretto.aws/corretto.key | sudo apt-key add - 

sudo add-apt-repository <span style="color:#e6db74">&#39;deb https://apt.corretto.aws stable main&#39;</span>

sudo apt-get update; sudo apt-get install -y java-1.8.0-amazon-corretto-jdk
</code></pre></div><p>Validate the successful installation of Java with</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">java -version
</code></pre></div><p>The output should look similar to:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">openjdk version <span style="color:#e6db74">&#34;1.8.0_282&#34;</span>
OpenJDK Runtime Environment Corretto-8.282.08.1 <span style="color:#f92672">(</span>build 1.8.0_282-b08<span style="color:#f92672">)</span>
OpenJDK 64-Bit Server VM Corretto-8.282.08.1 <span style="color:#f92672">(</span>build 25.282-b08, mixed mode<span style="color:#f92672">)</span>
</code></pre></div><p><em>NB- This workshop was developed with Corretto v 1.8, but other JREs may work just as well</em></p>
<h3 id="step-3-download-greengrass-v2">Step 3: Download Greengrass v2</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -s https://d2s8p88vqu9w66.cloudfront.net/releases/greengrass-nucleus-latest.zip &gt; greengrass-nucleus-latest.zip

unzip greengrass-nucleus-latest.zip -d GreengrassCore <span style="color:#f92672">&amp;&amp;</span> rm greengrass-nucleus-latest.zip
</code></pre></div><h3 id="step-4-set-environment-variables">Step 4: Set environment variables</h3>
<p>Greengrass v2 has the ability to self-install and configure, but needs access credentials. Additionally, this installer will create an IoT thing, thing group, and IAM roles. Provide these values through shell variables. The AWS CLI credentials can be the same as you used in the host setup or can be newly created for just this role. The installer will not save these values. Using shell variables eliminates the need to install the CLI on the device.</p>
<table>
<thead>
<tr>
<th>shell var</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AWS_ACCESS_KEY_ID</td>
<td>ID for account to create resources</td>
</tr>
<tr>
<td>AWS_SECRET_ACCESS_KEY</td>
<td>secret key</td>
</tr>
<tr>
<td>AWS_DEFAULT_REGION</td>
<td>region to use &ndash; <code>us-west-2</code> for this workshop</td>
</tr>
<tr>
<td>THING_NAME</td>
<td>device name for this Greengrass Core</td>
</tr>
<tr>
<td>GROUP_NAME</td>
<td>name for the Greengrass Group</td>
</tr>
<tr>
<td>ROLE_NAME</td>
<td>name of IAM role for the core</td>
</tr>
<tr>
<td>ROLE_ALIAS</td>
<td>alias used to refer to role to allow role to change</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># replace these with your credentials</span>
export AWS_ACCESS_KEY_ID<span style="color:#f92672">=</span>&lt;paste_your_id_here&gt;
export AWS_SECRET_ACCESS_KEY<span style="color:#f92672">=</span>&lt;paste_your_key_here&gt;

<span style="color:#75715e"># modify any of these as desired, or copy/paste as is</span>
export AWS_DEFAULT_REGION<span style="color:#f92672">=</span>us-west-2

export THING_NAME<span style="color:#f92672">=</span>jetson
export GROUP_NAME<span style="color:#f92672">=</span>jetsonGroup
export ROLE_NAME<span style="color:#f92672">=</span>MyGreengrassV2Role
export ROLE_ALIAS<span style="color:#f92672">=</span>MyGreengrassCoreTokenExchangeRoleAlias
</code></pre></div><h3 id="step-5-run-the-installer">Step 5: Run the installer</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo -E java -Dlog.store<span style="color:#f92672">=</span>FILE <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  -jar ./GreengrassCore/lib/Greengrass.jar <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --aws-region $AWS_DEFAULT_REGION <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --root /greengrass/v2 <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --thing-name $THING_NAME <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --thing-group-name $GROUP_NAME <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --tes-role-name $ROLE_NAME <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --tes-role-alias-name $ROLE_ALIAS <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --component-default-user ggc_user:ggc_group <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --provision true <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --setup-system-service true

sudo chmod <span style="color:#ae81ff">755</span> /greengrass/v2 <span style="color:#f92672">&amp;&amp;</span> sudo chmod <span style="color:#ae81ff">755</span> /greengrass
</code></pre></div><p>Your Greengrass core is now set up and ready to go. Continue on to the next step to validate the installation.</p>





<footer class=" footline" >
	
</footer>

        
            </div> 
        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
                        
            
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../greengrass-v2.html" title="Install Greengrass V2"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../greengrass-v2/validate.html" title="Validate" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../js/clipboard.min.js"></script>
    <script src="../js/perfect-scrollbar.min.js"></script>
    <script src="../js/perfect-scrollbar.jquery.min.js"></script>
    <script src="../js/jquery.sticky.js"></script>
    <script src="../js/featherlight.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../js/modernizr.custom-3.6.0.js"></script>
    <script src="../js/learn.js"></script>
    <script src="../js/hugo-learn.js"></script>
    
        
            <script src="../mermaid/mermaid.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    
  </body>
</html>
